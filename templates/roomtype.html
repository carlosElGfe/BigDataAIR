<!DOCTYPE html>
<html>
  <head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.3.0/Chart.min.js"> </script>
    
    <title>AVG price room type</title>
  </head>
  <body>
   
        <nav class="navbar navbar-light" style="background-color: #e3f2fd;">
          <a class="navbar-brand" href="https://big-data-uandes.herokuapp.com">Home</a>
        </nav>
    <div style='margin-top:20px'>
    <div class="card">
      <div class="card-header">
    Average room type price
      </div>
      <div class="card-body">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>
        <canvas id="chart" width="100" height="50"></canvas>    <script>
        var values = [{%for j in data[0][0]%}"{{j}}",{%endfor%}];
        var values2 = [{%for j in data[1][0]%}"{{j}}",{%endfor%}]; 
        var values3 = [{%for j in data[2][0]%}"{{j}}",{%endfor%}];
        var labels = [{%for j in data[0][1]%}"{{j}}",{%endfor%}];
        var colors = ["#F7464A", "#46BFBD", "#FDB45C", "#FEDCBA","#A569BD", "#34495E ", "#CD6155 ", "#84C2C6","#2ECC71","#F70CE1"];


var chart = new Chart(document.getElementById("chart"), {
    type: 'bar',
    data: {
      labels: labels,
      datasets: [{
        label: ['Entire Apartment'],
        backgroundColor: "#F7464A",
        data: values
      },
      {
        label: ['Private Suit'],
        backgroundColor: "#46BFBD",
        data: values2
      },
      {
        label: ['Shared Room'],
        backgroundColor: "#FEDCBA",
        data: values3
      }]
    },
    options: {
      title: {
        display: true,
        text: 'AVG price per room type'
      },
      scales: {
      x: {
        stacked: true,
      },
      y: {
        stacked: true
      }},
      legend: {
        labels: {
          /* here one can adjust the legend's labels, if required */
          // generateLabels: function(chart) {}
        }
      }
    }
});
    </script>
    </div></div></div>
  </body>
</html>